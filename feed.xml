<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.2.2">Jekyll</generator><link href="https://poonehs.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://poonehs.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2022-10-05T23:00:22+00:00</updated><id>https://poonehs.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">A pitfall generating the data from postgres TPC-H dbgen</title><link href="https://poonehs.github.io/blog/2022/dbgen-postgres/" rel="alternate" type="text/html" title="A pitfall generating the data from postgres TPC-H dbgen"/><published>2022-10-05T21:01:00+00:00</published><updated>2022-10-05T21:01:00+00:00</updated><id>https://poonehs.github.io/blog/2022/dbgen-postgres</id><content type="html" xml:base="https://poonehs.github.io/blog/2022/dbgen-postgres/"><![CDATA[<h1 id="a-pitfall-generating-the-data-from-postgres-tpc-h-dbgen">A pitfall generating the data from postgres TPC-H dbgen</h1> <p>I found the script in the <code class="language-plaintext highlighter-rouge">tpch_prepare</code>, which make the dbgen in parallel. I think it’s caused by the PCIe 3.0’s bandwidth slowed down some of the other dbgen when running in parallel. So I run them sequencially resolve the problem.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo</span> <span class="nt">-u</span> <span class="nv">$PGUSER</span> <span class="s2">"</span><span class="nv">$BASEDIR</span><span class="s2">/dbgen/dbgen"</span> <span class="nt">-s</span> <span class="nv">$SCALE</span> <span class="nt">-f</span> <span class="nt">-v</span> <span class="nt">-T</span> c &amp;
  <span class="nb">sudo</span> <span class="nt">-u</span> <span class="nv">$PGUSER</span> <span class="s2">"</span><span class="nv">$BASEDIR</span><span class="s2">/dbgen/dbgen"</span> <span class="nt">-s</span> <span class="nv">$SCALE</span> <span class="nt">-f</span> <span class="nt">-v</span> <span class="nt">-T</span> s &amp;
  <span class="nb">sudo</span> <span class="nt">-u</span> <span class="nv">$PGUSER</span> <span class="s2">"</span><span class="nv">$BASEDIR</span><span class="s2">/dbgen/dbgen"</span> <span class="nt">-s</span> <span class="nv">$SCALE</span> <span class="nt">-f</span> <span class="nt">-v</span> <span class="nt">-T</span> n &amp;
  <span class="nb">sudo</span> <span class="nt">-u</span> <span class="nv">$PGUSER</span> <span class="s2">"</span><span class="nv">$BASEDIR</span><span class="s2">/dbgen/dbgen"</span> <span class="nt">-s</span> <span class="nv">$SCALE</span> <span class="nt">-f</span> <span class="nt">-v</span> <span class="nt">-T</span> r &amp;
  <span class="nb">sudo</span> <span class="nt">-u</span> <span class="nv">$PGUSER</span> <span class="s2">"</span><span class="nv">$BASEDIR</span><span class="s2">/dbgen/dbgen"</span> <span class="nt">-s</span> <span class="nv">$SCALE</span> <span class="nt">-f</span> <span class="nt">-v</span> <span class="nt">-T</span> O &amp;
  <span class="nb">sudo</span> <span class="nt">-u</span> <span class="nv">$PGUSER</span> <span class="s2">"</span><span class="nv">$BASEDIR</span><span class="s2">/dbgen/dbgen"</span> <span class="nt">-s</span> <span class="nv">$SCALE</span> <span class="nt">-f</span> <span class="nt">-v</span> <span class="nt">-T</span> L &amp;
  <span class="nb">sudo</span> <span class="nt">-u</span> <span class="nv">$PGUSER</span> <span class="s2">"</span><span class="nv">$BASEDIR</span><span class="s2">/dbgen/dbgen"</span> <span class="nt">-s</span> <span class="nv">$SCALE</span> <span class="nt">-f</span> <span class="nt">-v</span> <span class="nt">-T</span> P &amp;
  <span class="nb">sudo</span> <span class="nt">-u</span> <span class="nv">$PGUSER</span> <span class="s2">"</span><span class="nv">$BASEDIR</span><span class="s2">/dbgen/dbgen"</span> <span class="nt">-s</span> <span class="nv">$SCALE</span> <span class="nt">-f</span> <span class="nt">-v</span> <span class="nt">-T</span> S &amp;
</code></pre></div></div>]]></content><author><name></name></author><category term="tpch"/><category term="pitfalls"/><summary type="html"><![CDATA[I found the script in the `tpch_prepare`, which make the dbgen in parallel. I think it's caused by the PCIe 3.0's bandwidth slowed down some of the other dbgen when running in parallel. So I run them sequencially resolve the problem.]]></summary></entry></feed>